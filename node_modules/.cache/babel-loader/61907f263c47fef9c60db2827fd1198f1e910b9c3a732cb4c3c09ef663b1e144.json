{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\felix\\\\Documents\\\\atapp\\\\attendance-app\\\\src\\\\components\\\\Attendance.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Attendance = () => {\n  _s();\n  const [areas, setAreas] = useState([]);\n  const [selectedArea, setSelectedArea] = useState(\"\");\n  const [attendance, setAttendance] = useState(Array(200).fill(false)); // Array of 200 workers' attendance, default to false (not selected)\n\n  // Fetch areas on component load\n  useEffect(() => {\n    axios.get(\"/api/areas\").then(response => {\n      setAreas(response.data);\n    });\n  }, []);\n\n  // Handle area selection\n  const handleAreaChange = e => {\n    setSelectedArea(e.target.value);\n  };\n\n  // Handle worker selection (tap to select, double-tap to deselect)\n  const handleWorkerSelect = index => {\n    const updatedAttendance = [...attendance];\n    updatedAttendance[index] = !updatedAttendance[index]; // Toggle attendance\n    setAttendance(updatedAttendance);\n  };\n\n  // Handle form submission for attendance logging\n  const submitAttendance = () => {\n    const presentWorkers = attendance.map((isSelected, index) => isSelected ? index + 1 : null).filter(workerID => workerID !== null); // Get the IDs of selected workers (present)\n\n    if (!selectedArea) {\n      alert(\"Please select an area.\");\n      return;\n    }\n    if (presentWorkers.length === 0) {\n      alert(\"No workers selected.\");\n      return;\n    }\n\n    // Submit attendance to the backend\n    axios.post(\"/api/attendanceLogs\", {\n      area: selectedArea,\n      workers: presentWorkers\n    }).then(response => {\n      alert(\"Attendance submitted successfully.\");\n      setAttendance(Array(200).fill(false)); // Reset attendance\n    }).catch(error => {\n      console.error(\"Error submitting attendance:\", error);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Attendance\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Select Area:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: selectedArea,\n        onChange: handleAreaChange,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Select Area\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), areas.map(area => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: area._id,\n          children: area.AreaName\n        }, area._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"grid\",\n        gridTemplateColumns: \"repeat(10, 1fr)\",\n        gap: \"10px\",\n        marginTop: \"20px\"\n      },\n      children: Array.from({\n        length: 200\n      }, (_, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleWorkerSelect(index),\n        style: {\n          backgroundColor: attendance[index] ? \"green\" : \"lightgrey\",\n          padding: \"10px\",\n          cursor: \"pointer\",\n          border: \"1px solid #ccc\"\n        },\n        children: index + 1\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: \"20px\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: submitAttendance,\n        children: \"Submit Attendance\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n};\n_s(Attendance, \"1vy+0htymRLo0gfPbyO2yHWYF9c=\");\n_c = Attendance;\nexport default Attendance;\nvar _c;\n$RefreshReg$(_c, \"Attendance\");","map":{"version":3,"names":["React","useState","useEffect","axios","jsxDEV","_jsxDEV","Attendance","_s","areas","setAreas","selectedArea","setSelectedArea","attendance","setAttendance","Array","fill","get","then","response","data","handleAreaChange","e","target","value","handleWorkerSelect","index","updatedAttendance","submitAttendance","presentWorkers","map","isSelected","filter","workerID","alert","length","post","area","workers","catch","error","console","children","fileName","_jsxFileName","lineNumber","columnNumber","onChange","_id","AreaName","style","display","gridTemplateColumns","gap","marginTop","from","_","onClick","backgroundColor","padding","cursor","border","_c","$RefreshReg$"],"sources":["C:/Users/felix/Documents/atapp/attendance-app/src/components/Attendance.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst Attendance = () => {\r\n  const [areas, setAreas] = useState([]);\r\n  const [selectedArea, setSelectedArea] = useState(\"\");\r\n  const [attendance, setAttendance] = useState(Array(200).fill(false)); // Array of 200 workers' attendance, default to false (not selected)\r\n\r\n  // Fetch areas on component load\r\n  useEffect(() => {\r\n    axios.get(\"/api/areas\").then((response) => {\r\n      setAreas(response.data);\r\n    });\r\n  }, []);\r\n\r\n  // Handle area selection\r\n  const handleAreaChange = (e) => {\r\n    setSelectedArea(e.target.value);\r\n  };\r\n\r\n  // Handle worker selection (tap to select, double-tap to deselect)\r\n  const handleWorkerSelect = (index) => {\r\n    const updatedAttendance = [...attendance];\r\n    updatedAttendance[index] = !updatedAttendance[index]; // Toggle attendance\r\n    setAttendance(updatedAttendance);\r\n  };\r\n\r\n  // Handle form submission for attendance logging\r\n  const submitAttendance = () => {\r\n    const presentWorkers = attendance\r\n      .map((isSelected, index) => (isSelected ? index + 1 : null))\r\n      .filter((workerID) => workerID !== null); // Get the IDs of selected workers (present)\r\n\r\n    if (!selectedArea) {\r\n      alert(\"Please select an area.\");\r\n      return;\r\n    }\r\n\r\n    if (presentWorkers.length === 0) {\r\n      alert(\"No workers selected.\");\r\n      return;\r\n    }\r\n\r\n    // Submit attendance to the backend\r\n    axios\r\n      .post(\"/api/attendanceLogs\", {\r\n        area: selectedArea,\r\n        workers: presentWorkers,\r\n      })\r\n      .then((response) => {\r\n        alert(\"Attendance submitted successfully.\");\r\n        setAttendance(Array(200).fill(false)); // Reset attendance\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error submitting attendance:\", error);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Attendance</h2>\r\n\r\n      {/* Dropdown for selecting area */}\r\n      <div>\r\n        <label>Select Area:</label>\r\n        <select value={selectedArea} onChange={handleAreaChange}>\r\n          <option value=\"\">Select Area</option>\r\n          {areas.map((area) => (\r\n            <option key={area._id} value={area._id}>\r\n              {area.AreaName}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n\r\n      {/* Worker number buttons */}\r\n      <div\r\n        style={{\r\n          display: \"grid\",\r\n          gridTemplateColumns: \"repeat(10, 1fr)\",\r\n          gap: \"10px\",\r\n          marginTop: \"20px\",\r\n        }}\r\n      >\r\n        {Array.from({ length: 200 }, (_, index) => (\r\n          <button\r\n            key={index}\r\n            onClick={() => handleWorkerSelect(index)}\r\n            style={{\r\n              backgroundColor: attendance[index] ? \"green\" : \"lightgrey\",\r\n              padding: \"10px\",\r\n              cursor: \"pointer\",\r\n              border: \"1px solid #ccc\",\r\n            }}\r\n          >\r\n            {index + 1}\r\n          </button>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Submit button */}\r\n      <div style={{ marginTop: \"20px\" }}>\r\n        <button onClick={submitAttendance}>Submit Attendance</button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Attendance;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}